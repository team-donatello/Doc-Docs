{"ast":null,"code":"import _classCallCheck from \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"f:\\\\Boot\\\\Project3\\\\Doc-Docs\\\\client\\\\src\\\\AddMorePopover.js\";\nimport React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport Col from 'antd/lib/col';\nimport Row from 'antd/lib/row';\nimport Icon from 'antd/lib/icon';\nimport 'antd/lib/grid/style/index.css';\nimport EventItem from './EventItem';\nimport DnDSource from './DnDSource';\n\nvar AddMorePopover =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddMorePopover, _Component);\n\n  function AddMorePopover(props) {\n    var _this;\n\n    _classCallCheck(this, AddMorePopover);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddMorePopover).call(this, props));\n    _this.state = {\n      dndSource: new DnDSource(function (props) {\n        return props.eventItem;\n      }, EventItem)\n    };\n    return _this;\n  }\n\n  _createClass(AddMorePopover, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          headerItem = _this$props.headerItem,\n          left = _this$props.left,\n          top = _this$props.top,\n          height = _this$props.height,\n          closeAction = _this$props.closeAction,\n          schedulerData = _this$props.schedulerData;\n      var config = schedulerData.config,\n          localeMoment = schedulerData.localeMoment;\n      var time = headerItem.time,\n          start = headerItem.start,\n          end = headerItem.end,\n          events = headerItem.events;\n      var header = localeMoment(time).format(config.addMorePopoverHeaderFormat);\n      var durationStart = localeMoment(start);\n      var durationEnd = localeMoment(end);\n      var eventList = [];\n      var i = 0;\n      var DnDEventItem = this.state.dndSource.getDragSource();\n      events.forEach(function (evt) {\n        if (evt !== undefined) {\n          i++;\n          var eventStart = localeMoment(evt.eventItem.start);\n          var eventEnd = localeMoment(evt.eventItem.end);\n          var isStart = eventStart >= durationStart;\n          var isEnd = eventEnd < durationEnd;\n          var eventItemLeft = 10;\n          var eventItemWidth = 138;\n          var eventItemTop = 12 + i * config.eventItemLineHeight;\n          var eventItem = React.createElement(DnDEventItem, Object.assign({}, _this2.props, {\n            key: evt.eventItem.id,\n            eventItem: evt.eventItem,\n            leftIndex: 0,\n            isInPopover: true,\n            isStart: isStart,\n            isEnd: isEnd,\n            rightIndex: 1,\n            left: eventItemLeft,\n            width: eventItemWidth,\n            top: eventItemTop,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }));\n          eventList.push(eventItem);\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"add-more-popover-overlay\",\n        style: {\n          left: left,\n          top: top,\n          height: height,\n          width: '170px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Row, {\n        type: \"flex\",\n        justify: \"space-between\",\n        align: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: \"22\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"base-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, header)), React.createElement(Col, {\n        span: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: function onClick() {\n          closeAction(undefined);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"cross\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })))), eventList);\n    }\n  }]);\n\n  return AddMorePopover;\n}(Component);\n\nAddMorePopover.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  headerItem: PropTypes.object.isRequired,\n  left: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  closeAction: PropTypes.func.isRequired,\n  subtitleGetter: PropTypes.func,\n  moveEvent: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  eventItemTemplateResolver: PropTypes.func\n};\nexport default AddMorePopover;","map":{"version":3,"sources":["f:\\Boot\\Project3\\Doc-Docs\\client\\src\\AddMorePopover.js"],"names":["React","Component","PropTypes","Col","Row","Icon","EventItem","DnDSource","AddMorePopover","props","state","dndSource","eventItem","headerItem","left","top","height","closeAction","schedulerData","config","localeMoment","time","start","end","events","header","format","addMorePopoverHeaderFormat","durationStart","durationEnd","eventList","i","DnDEventItem","getDragSource","forEach","evt","undefined","eventStart","eventEnd","isStart","isEnd","eventItemLeft","eventItemWidth","eventItemTop","eventItemLineHeight","id","push","width","propTypes","object","isRequired","number","func","subtitleGetter","moveEvent","eventItemClick","viewEventClick","viewEventText","string","viewEvent2Click","viewEvent2Text","eventItemTemplateResolver"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport {PropTypes} from 'prop-types'\r\nimport Col from 'antd/lib/col'\r\nimport Row from 'antd/lib/row'\r\nimport Icon from 'antd/lib/icon'\r\nimport 'antd/lib/grid/style/index.css'\r\nimport EventItem from './EventItem'\r\nimport DnDSource from './DnDSource'\r\n\r\nclass AddMorePopover extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dndSource: new DnDSource((props) => { return props.eventItem;}, EventItem),\r\n        }\r\n    }\r\n\r\n    static propTypes = {\r\n        schedulerData: PropTypes.object.isRequired,\r\n        headerItem: PropTypes.object.isRequired,\r\n        left: PropTypes.number.isRequired,\r\n        top: PropTypes.number.isRequired,\r\n        height: PropTypes.number.isRequired,\r\n        closeAction: PropTypes.func.isRequired,\r\n        subtitleGetter: PropTypes.func,\r\n        moveEvent: PropTypes.func,\r\n        eventItemClick: PropTypes.func,\r\n        viewEventClick: PropTypes.func,\r\n        viewEventText:PropTypes.string,\r\n        viewEvent2Click: PropTypes.func,\r\n        viewEvent2Text: PropTypes.string,\r\n        eventItemTemplateResolver: PropTypes.func,\r\n    }\r\n\r\n    render() {\r\n        const {headerItem, left, top, height, closeAction, schedulerData} = this.props;\r\n        const {config, localeMoment} = schedulerData;\r\n        const {time, start, end, events} = headerItem;\r\n        let header = localeMoment(time).format(config.addMorePopoverHeaderFormat);\r\n        let durationStart = localeMoment(start);\r\n        let durationEnd = localeMoment(end);\r\n        let eventList = [];\r\n        let i = 0;\r\n        let DnDEventItem = this.state.dndSource.getDragSource();\r\n        events.forEach((evt) => {\r\n            if(evt !== undefined) {\r\n                i++;\r\n                let eventStart = localeMoment(evt.eventItem.start);\r\n                let eventEnd = localeMoment(evt.eventItem.end);\r\n                let isStart = eventStart >= durationStart;\r\n                let isEnd = eventEnd < durationEnd;\r\n                let eventItemLeft = 10;\r\n                let eventItemWidth = 138;\r\n                let eventItemTop = 12 + i*config.eventItemLineHeight;\r\n                let eventItem = <DnDEventItem\r\n                                   {...this.props}\r\n                                   key={evt.eventItem.id}\r\n                                   eventItem={evt.eventItem}\r\n                                   leftIndex={0}\r\n                                   isInPopover={true}\r\n                                   isStart={isStart}\r\n                                   isEnd={isEnd}\r\n                                   rightIndex={1}\r\n                                   left={eventItemLeft}\r\n                                   width={eventItemWidth}\r\n                                   top={eventItemTop}\r\n                                   />\r\n                eventList.push(eventItem);\r\n            }\r\n        });\r\n\r\n        return (\r\n            <div className=\"add-more-popover-overlay\"  style={{left: left, top: top, height: height, width: '170px'}}>\r\n                <Row type=\"flex\" justify=\"space-between\" align=\"middle\">\r\n                    <Col span=\"22\">\r\n                        <span className=\"base-text\">{header}</span>\r\n                    </Col>\r\n                    <Col span=\"2\">\r\n                        <span onClick={() => {closeAction(undefined);}}><Icon type=\"cross\"></Icon></span>\r\n                    </Col>\r\n                </Row>\r\n                {eventList}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddMorePopover"]},"metadata":{},"sourceType":"module"}